<h2><a href=https://www.codewars.com/kata/5239078120eeabe18f0000da/train/javascript target="_blank">Image Processing</a></h2><h3>5 kyu</h3><p>Process the given image data by multiplying each pixel by the values of the given weights matrix.</p><h3>Parameters</h3>*imageData*: a flat (one-dimensional) array of the image data. The data is organized by row and then by column, and then one byte for each color channel red, green, and blue. These values will always be integers in the range 0-255.<br>For example, given the image:<pre><code>A B CD E FG H I</code></pre><p>The input array would be:</p><pre><code>[  A_Red, A_Green, A_Blue, B_Red, B_Green, B_Blue, C_Red, C_Green, C_Blue,   D_Red, D_Green, D_Blue, E_Red, E_Green, E_Blue, F_Red, F_Green, F_Blue,  G_Red, G_Green, G_Blue, H_Red, H_Green, H_Blue, I_Red, I_Green, I_Blue]</code></pre><p><em>height</em>: the number of rows of the image.<br><em>width</em>: the number of columns of the image.<br><em>weights</em>: an n x n array giving the weights for each of the neighboring pixels. The size of this array, n, will always be odd, with the center being the weight of the pixel itself. The array is by row and then column. I.e. weights[y][x]<br></p><h3>Return</h3>An array of the image data adjusted by the weighted average per pixel's neighborhood. Where the weights matrix specifies pixels outside the actual image, use the values of the closest pixel. (E.g. extend the edges as far as necessary to provide values for the matrix.) Each value should be in the range 0-255.<p>For more information about image processing please see <a href="http://en.wikipedia.org/w/index.php?title=Kernel_(image_processing)" data-turbolinks="false" target="_blank">wikipedia</a></p><h3>Tools</h3>A few helpful functions have been set up for you.<ul><li><p>This function / variables returns the codewars logo, height and width:</p><pre><code class="language-javascript"><span class="cm-variable">codewars</span>().<span class="cm-property">rgb</span>, <span class="cm-variable">codewars</span>().<span class="cm-property">height</span>, <span class="cm-variable">codewars</span>().<span class="cm-property">width</span></code></pre><pre style="display: none;"><code class="language-c"><span class="cm-type">char</span> <span class="cm-variable">codewars_rgb</span>[];<span class="cm-type">int</span> <span class="cm-variable">codewars_height</span>;<span class="cm-type">int</span> <span class="cm-variable">codewars_width</span>;</code></pre><pre style="display: none;"><code class="language-cpp"><span class="cm-variable">vector</span> <span class="cm-operator">&lt;</span><span class="cm-variable">u8</span><span class="cm-operator">&gt;</span> <span class="cm-variable">codewars_rgb</span>;<span class="cm-type">int</span> <span class="cm-variable">codewars_height</span>;<span class="cm-type">int</span> <span class="cm-variable">codewars_width</span>;</code></pre></li><li><p>Displays an image in the console output. Click the image to view the image source :</p><pre><code class="language-javascript"><span class="cm-variable">putImageData</span>( <span class="cm-variable">imageData</span>, <span class="cm-variable">height</span>, <span class="cm-variable">width</span>, <span class="cm-variable">displayHeight</span>, <span class="cm-variable">displayWidth</span> );</code></pre><pre style="display: none;"><code class="language-c"><span class="cm-variable">putImageData</span> (<span class="cm-variable">imageData</span>, <span class="cm-variable">height</span>, <span class="cm-variable">width</span>, <span class="cm-variable">displayHeight</span>, <span class="cm-variable">displayWidth</span>);</code></pre><pre style="display: none;"><code class="language-cpp"><span class="cm-variable">putImageData</span> (<span class="cm-variable">imageData</span>, <span class="cm-variable">height</span>, <span class="cm-variable">width</span>, <span class="cm-variable">displayHeight</span>, <span class="cm-variable">displayWidth</span>);</code></pre></li><li><p>This function returns several pre-defined weights matrices. Try <code>blur</code>, <code>sharpen</code>, <code>edgeDetect</code>, <code>gaussianBlur</code>, and <code>laplacianFilter</code> :</p><pre><code class="language-javascript"><span class="cm-variable">kernals</span>().<span class="cm-property">blur</span></code></pre><pre style="display: none;"><code class="language-c"><span class="cm-type">float</span> <span class="cm-variable">kernel_blur</span>[<span class="cm-number">3</span>][<span class="cm-number">3</span>];</code></pre><pre style="display: none;"><code class="language-cpp"><span class="cm-variable">vector</span> <span class="cm-operator">&lt;</span><span class="cm-variable">vector</span> <span class="cm-operator">&lt;</span><span class="cm-type">float</span><span class="cm-operator">&gt;&gt;</span> <span class="cm-variable">kernel_blur</span>;</code></pre></li><li><p>Returns true if actual is within the acceptable error margin of expected. Some of the tests could be prone to floating point errors, so this function allows for +/- 3 (about 1%) of the expected value :</p><pre><code class="language-javascript"><span class="cm-variable">assertRGBImageDataSimilar</span>( <span class="cm-variable">actual</span>, <span class="cm-variable">expected</span>, <span class="cm-variable">height</span>, <span class="cm-variable">width</span> )</code></pre><pre style="display: none;"><code class="language-c"><span class="cm-variable">RGBImageDataSimilar</span> (<span class="cm-variable">actual</span>, <span class="cm-variable">expected</span>, <span class="cm-variable">h</span>, <span class="cm-variable">w</span>);</code></pre><pre style="display: none;"><code class="language-cpp"><span class="cm-variable">RGBImageDataSimilar</span> (<span class="cm-variable">actual</span>, <span class="cm-variable">expected</span>, <span class="cm-variable">h</span>, <span class="cm-variable">w</span>);</code></pre></li><li><p>Compares your solution to the expected solution and then provides a nice display of the original, your result, and the expected result. You can click any of these images to view the source data :</p><pre><code class="language-javascript"><span class="cm-variable">imageTest</span>( <span class="cm-variable">imageData</span>, <span class="cm-variable">h</span>, <span class="cm-variable">w</span>, <span class="cm-variable">weights</span>, <span class="cm-variable">expected</span> )</code></pre><pre style="display: none;"><code class="language-c"><span class="cm-variable">imageTest</span> (<span class="cm-variable">imageData</span>, <span class="cm-variable">h</span>, <span class="cm-variable">w</span>, <span class="cm-variable">weights</span>, <span class="cm-variable">n</span>, <span class="cm-variable">expected</span>);</code></pre><pre style="display: none;"><code class="language-cpp"><span class="cm-variable">imageTest</span> (<span class="cm-variable">imageData</span>, <span class="cm-variable">h</span>, <span class="cm-variable">w</span>, <span class="cm-variable">weights</span>, <span class="cm-variable">expected</span>);</code></pre></li></ul>